--
-- GRANTS
--

-- Java privs - bude nutno specificky grantovat pro dané prostředí


WHENEVER SQLERROR CONTINUE

-- system grants
GRANT ALTER SESSION to MW_CONNECT;
GRANT ANALYZE ANY to MW_AUDIT;
GRANT ANALYZE ANY to MW_LOG;
GRANT CREATE CREDENTIAL to MW;
GRANT CREATE JOB to MW;
GRANT CREATE PROCEDURE to MW_DB_SERVER;
GRANT CREATE PUBLIC SYNONYM to MW_DB_SERVER;
GRANT CREATE SEQUENCE to MW_DB_SERVER;
GRANT CREATE SESSION to MWSTAT;
GRANT CREATE SESSION to MW_CONNECT;
GRANT CREATE SYNONYM to MWAPP;
GRANT CREATE TABLE to MW;
GRANT CREATE TABLE to MWSTAT;
GRANT CREATE TABLE to MW_DB_SERVER;
GRANT CREATE TRIGGER to MW_DB_SERVER;
GRANT CREATE VIEW to MW_DB_SERVER;
GRANT CSCONNECT to MWSTAT;
GRANT CS_APPL_ACCOUNTS to MW;
GRANT CS_APPL_ACCOUNTS to MWAPP;
GRANT CS_APPL_ACCOUNTS to MWSTAT;
GRANT JAVASYSPRIV to MW;
GRANT MW_CONNECT to MW;
GRANT MW_CONNECT to MWAPP;
GRANT MW_DB_SERVER to MW;
GRANT MW_LOG to MWAPP;
GRANT MW_READ_ONLY to MWAPP;

-- Roles for DBEIM
GRANT mw_connect TO dbeim;
GRANT mw_db_server TO dbeim;
GRANT mw_debug TO dbeim;
ALTER USER dbeim DEFAULT ROLE ALL;

-- System Privileges for DBEIM
GRANT CREATE TYPE to dbeim;
GRANT CREATE JOB TO dbeim;
GRANT ANALYZE ANY TO dbeim;

-- Access to Directories for DBEIM
GRANT READ, WRITE ON DIRECTORY mw_csops_imp TO dbeim;
GRANT READ, WRITE ON DIRECTORY mw_csops_exp TO dbeim;
GRANT READ, WRITE ON DIRECTORY mw_csops_arch TO dbeim;

-- Object Privileges for DBEIM
GRANT EXECUTE ON sys.UTL_FILE TO dbeim;
GRANT EXECUTE ON SYS.DBMS_ISCHED TO dbeim;
GRANT EXECUTE ON SYS.DBMS_SCHEDULER TO dbeim;

-- Roles for DBMAIN
GRANT mw_connect TO dbmain;
GRANT mw_db_server TO dbmain;
GRANT mw_debug TO dbmain;
ALTER USER dbmain DEFAULT ROLE ALL;

-- System Privileges for DBMAIN
GRANT ALTER ANY INDEX TO dbmain;
GRANT CREATE JOB TO dbmain;
GRANT ANALYZE ANY TO dbmain;

-- 4 Access to Directories for DBMAIN
GRANT READ ON DIRECTORY mw_csops_imp TO dbmain;
GRANT READ ON DIRECTORY mw_csops_exp TO dbmain;

-- Object Privileges for DBMAIN
GRANT EXECUTE ON SYS.DBMS_ISCHED TO dbmain;
GRANT EXECUTE ON SYS.DBMS_SCHEDULER TO dbmain;


-- SYS Grants
GRANT EXECUTE ON "SYS"."DBMS_LOCK" to MW ;
GRANT EXECUTE ON "SYS"."DBMS_SCHEDULER" to MW ;
GRANT READ ON DIRECTORY "SYS"."MW_CSOPS_EXP" to MW ;
GRANT READ ON DIRECTORY "SYS"."MW_DB_LOG" to MW ;
GRANT WRITE ON DIRECTORY "SYS"."MW_CSOPS_EXP" to MW ;
GRANT WRITE ON DIRECTORY "SYS"."MW_DB_LOG" to MW ;
GRANT SELECT ON "SYS"."DBA_PENDING_TRANSACTIONS" to MWAPP ;


-- DEV / TEST
/*
GRANT MW_CONNECT to MW_TESTERS;
GRANT MW_READ_ONLY to MW_TESTERS;
*/
